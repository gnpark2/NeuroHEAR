<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body{
          background-color: #bbf0d0;
          font-family: "Questrial", sans-serif;
          font-weight: 400;
          font-style: normal;
        }
        .total-score-button{
          font-size: 24px;
          display: block;
          margin: 0 auto;
          padding: 10px 20px;
          background-color: #01C5A2;
          border: none;
          border-radius: 7px;
          color: white;
          box-shadow: 2px 4px 0 rgb(0,0,0,0.5);
        }
        .total-score-button:hover{
          background-color: #0FB194;
        }
        .total-score-button:active{
          box-shadow: 2px 2px 0 rgb(0,0,0,0.5);
        }
        .total-score{
          text-align: center;
          font-size: 24px;
        }
        .error{
          color: red;
          margin-left: 5px;
          display: none;
        }
        .survey{
          padding: 0px 15px;
          font-weight: 600;
          font-size: 24px;
          display: block;
          border-bottom: 1px solid #000000;
          padding-bottom: 15px;
        }
        .title{
          padding: 30px 50px 40px;
          font-size: 36px;
          text-align: center;
          font-weight: 700;
        }

        /* layer style */
        #resultPopup + label{
          font-size: 24px;
          display: inline-block;
          padding: 7px 14px;
          background: #333;
          color: #fff;
          float: right;
          position: relative;
          left: -42.5%;
          box-shadow: 2px 4px 0 rgb(0,0,0,0.5);
        }
        #resultPopup {
          display: none;
        }

        #resultLayer_bg {
          display: none;
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0,0,0,0.5);
        }

        #resultLayer_bg > #popup {
          font-size: 20px;
          position: fixed;
          padding: 15px;
          box-sizing: border-box;
          border-radius: 15px;
          bottom: 5%;
          left: 50%;
          transform: translate(-50%);
          width: 600px;
          height: 500px;
          background: #fff;
          box-shadow: 7px 7px 5px rgba(0, 0, 0, 0.2);
        }
        #resultLayer_bg > #popup > h2 {
          margin-bottom: 25px;
        }
        #resultLayer_bg > #popup > h2 > label {
          float: right;
        }
        #resultPopup:checked + label + #resultLayer_bg {
          display: block;
        }
      </style>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Questrial&display=swap" rel="stylesheet">
	</head>

	<body>
		<form id="surveyForm">
          <div class="title">
          <label class="title">고령자(노인) 청력장애검사(K-HHIE)</label>
          </div>

          <label for="q1" class="survey">S-1. 청력 이상으로 전화를 원하는 것보다 덜 사용하십니까?
          <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q1" id="q1" value="4">예</label>
          <label><input type="radio" name="q1" id="q1" value="2">가끔</label>
          <label><input type="radio" name="q1" id="q1" value="0">아니오</label>
          <span class="error" id="error-q1">*</span></div></label><br>

          <label for="q2" class="survey">E-2. 청력 이상으로 새로운 사람을 만날 때 난처하십니까?
          <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q2" id="q2" value="4">예</label>
          <label><input type="radio" name="q2" id="q2" value="2">가끔</label>
          <label><input type="radio" name="q2" id="q2" value="0">아니오</label>
          <span class="error" id="error-q2">*</span></div></label><br>

          <label for="q3" class="survey">S-3. 청력 이상으로 여러 사람들과 함께 있는 것을 피하십니까?
          <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q3" id="q3" value="4">예</label>
          <label><input type="radio" name="q3" id="q3" value="2">가끔</label>
          <label><input type="radio" name="q3" id="q3" value="0">아니오</label>
          <span class="error" id="error-q3">*</span></div></label><br>

          <label for="q4" class="survey">E-4. 청력 이상으로 짜증이 나십니까?
          <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q4" id="q4" value="4">예</label>
          <label><input type="radio" name="q4" id="q4" value="2">가끔</label>
          <label><input type="radio" name="q4" id="q4" value="0">아니오</label>
          <span class="error" id="error-q4">*</span></div></label><br>

          <label for="q5" class="survey">E-5. 청력 이상으로 가족들과 대화할 때 좌절감을 느끼십니까?
          <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q5" id="q5" value="4">예</label>
          <label><input type="radio" name="q5" id="q5" value="2">가끔</label>
          <label><input type="radio" name="q5" id="q5" value="0">아니오</label>
          <span class="error" id="error-q5">*</span></div></label><br>

          <label for="q6" class="survey">S-6. 모임에 참석했을 때 어려움을 느끼십니까?
          <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q6" id="q6"value="4">예</label>
          <label><input type="radio" name="q6" id="q6"value="2">가끔</label>
          <label><input type="radio" name="q6" id="q6" value="0">아니오</label>
          <span class="error" id="error-q6">*</span></div></label><br>

          <label for="q7" class="survey">E-7. 청력 이상으로 스스로를 "바보스럽다" 또는 "멍청하다"고 느끼신 적이 있습니까?
          <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q7" id="q7" value="4">예</label>
          <label><input type="radio" name="q7" id="q7" value="2">가끔</label>
          <label><input type="radio" name="q7" id="q7" value="0">아니오</label>
          <span class="error" id="error-q7">*</span></div></label><br>

          <label for="q8" class="survey">S-8. 누군가가 속삭일 때 알아듣기가 어렵습니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q8" id="q8" value="4">예</label>
          <label><input type="radio" name="q8" id="q8" value="2">가끔</label>
          <label><input type="radio" name="q8" id="q8" value="0">아니오</label>
          <span class="error" id="error-q8">*</span></div></label><br>

          <label for="q9" class="survey">E-9. 청력 이상으로 스스로 장애가 있다고 느끼십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q9" id="q9" value="4">예</label>
          <label><input type="radio" name="q9" id="q9" value="2">가끔</label>
          <label><input type="radio" name="q9" id="q9" value="0">아니오</label>
          <span class="error" id="error-q9">*</span></div></label><br>

          <label for="q10" class="survey">S-10. 청력 이상으로 친구, 친척, 이웃들을 방문할 때 어려움을 느끼십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q10" id="q10" value="4">예</label>
          <label><input type="radio" name="q10" id="q10" value="2">가끔</label>
          <label><input type="radio" name="q10" id="q10" value="0">아니오</label>
          <span class="error" id="error-q10">*</span></div></label><br>

          <label for="q11" class="survey">S-11. 청력 이상으로 종교 집회에 원하는 것보다 덜 참석하십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q11" id="q11" value="4">예</label>
          <label><input type="radio" name="q11" id="q11" value="2">가끔</label>
          <label><input type="radio" name="q11" id="q11" value="0">아니오</label>
          <span class="error" id="error-q11">*</span></div></label><br>

          <label for="q12" class="survey">E-12. 청력 이상으로 성격이 과민해졌습니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q12" id="q12" value="4">예</label>
          <label><input type="radio" name="q12" id="q12" value="2">가끔</label>
          <label><input type="radio" name="q12" id="q12" value="0">아니오</label>
          <span class="error" id="error-q12">*</span></div></label><br>

          <label for="q13" class="survey">S-13. 청력 이상으로 친구, 친지, 이웃들을 원하는 만큼보다 덜 방문하게 되십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q13" id="q13" value="4">예</label>
          <label><input type="radio" name="q13" id="q13" value="2">가끔</label>
          <label><input type="radio" name="q13" id="q13" value="0">아니오</label>
          <span class="error" id="error-q13">*</span></div></label><br>

          <label for="q14" class="survey">E-14. 청력 이상으로 가족들과 말다툼을 하시게 됩니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q14" id="q14" value="4">예</label>
          <label><input type="radio" name="q14" id="q14" value="2">가끔</label>
          <label><input type="radio" name="q14" id="q14" value="0">아니오</label>
          <span class="error" id="error-q14">*</span></div></label><br>

          <label for="q15" class="survey">S-15. 청력 이상으로 TV나 라디오를 들을 때 어려움을 느끼십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q15" id="q15" value="4">예</label>
          <label><input type="radio" name="q15" id="q15" value="2">가끔</label>
          <label><input type="radio" name="q15" id="q15" value="0">아니오</label>
          <span class="error" id="error-q15">*</span></div></label><br>

          <label for="q16" class="survey">S-16. 청력 이상으로 쇼핑을 원하는 것보다 덜 하십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q16" id="q16" value="4">예</label>
          <label><input type="radio" name="q16" id="q16" value="2">가끔</label>
          <label><input type="radio" name="q16" id="q16" value="0">아니오</label>
          <span class="error" id="error-q16">*</span></div></label><br>

          <label for="q17" class="survey">E-17. 청력 이상이나 이로 인한 어려움으로 실망한 적이 있습니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q17" id="q17" value="4">예</label>
          <label><input type="radio" name="q17" id="q17" value="2">가끔</label>
          <label><input type="radio" name="q17" id="q17" value="0">아니오</label>
          <span class="error" id="error-q17">*</span></div></label><br>

          <label for="q18" class="survey">E-18. 청력 이상으로 혼자 있고 싶다고 느끼십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q18" id="q18" value="4">예</label>
          <label><input type="radio" name="q18" id="q18" value="2">가끔</label>
          <label><input type="radio" name="q18" id="q18" value="0">아니오</label>
          <span class="error" id="error-q18">*</span></div></label><br>

          <label for="q19" class="survey">S-19. 청력 이상으로 가족들과 대화를 덜 하게 됩니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q19" id="q19" value="4">예</label>
          <label><input type="radio" name="q19" id="q19" value="2">가끔</label>
          <label><input type="radio" name="q19" id="q19" value="0">아니오</label>
          <span class="error" id="error-q19">*</span></div></label><br>

          <label for="q20" class="survey">E-20. 청력 이상이 귀하의 개인 생활이나 사회생활을 제한하거나 방해한다고 느끼십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q20" id="q20" value="4">예</label>
          <label><input type="radio" name="q20" id="q20" value="2">가끔</label>
          <label><input type="radio" name="q20" id="q20" value="0">아니오</label>
          <span class="error" id="error-q20">*</span></div></label><br>

          <label for="q21" class="survey">S-21. 청력 이상으로 친척이나 친구들과 식당에 있을 때 어려움을 느끼십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q21" id="q21" value="4">예</label>
          <label><input type="radio" name="q21" id="q21" value="2">가끔</label>
          <label><input type="radio" name="q21" id="q21" value="0">아니오</label>
          <span class="error" id="error-q21">*</span></div></label><br>

          <label for="q22" class="survey">E-22. 청력 이상으로 우울하다고 느끼십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q22" id="q22" value="4">예</label>
          <label><input type="radio" name="q22" id="q22" value="2">가끔</label>
          <label><input type="radio" name="q22" id="q22" value="0">아니오</label>
          <span class="error" id="error-q22">*</span></div></label><br>

          <label for="q23" class="survey">S-23. 청력 이상으로 TV나 라디오 청취를 원하는 것보다 덜 하게 되십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q23" id="q23" value="4">예</label>
          <label><input type="radio" name="q23" id="q23" value="2">가끔</label>
          <label><input type="radio" name="q23" id="q23" value="0">아니오</label>
          <span class="error" id="error-q23">*</span></div></label><br>

          <label for="q24" class="survey">E-24. 청력 이상으로 친구들과 대화할 때 불편함을 느끼십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q24" id="q24" value="4">예</label>
          <label><input type="radio" name="q24" id="q24" value="2">가끔</label>
          <label><input type="radio" name="q24" id="q24" value="0">아니오</label>
          <span class="error" id="error-q24">*</span></div></label><br>

          <label for="q25" class="survey">E-25. 청력 이상으로 여러 사람들과 함께 있을 때 소외된다고 느끼십니까?
            <div style="text-align: right; margin-top: 12px;">
          <label><input type="radio" name="q25" id="q25" value="4">예</label>
          <label><input type="radio" name="q25" id="q25" value="2">가끔</label>
          <label><input type="radio" name="q25" id="q25" value="0">아니오</label>
              <span class="error" id="error-q25">*</span></div></label><br>

          <input type="button" class="total-score-button" style="cursor: pointer;" value="총 점수 계산" onclick="calculateScore()">
      </form>

      <br><br>
      <p id="totalScore" class="total-score"></p>

      <div>
      	<input type="checkbox" id="resultPopup">
        <label for="resultPopup" style="cursor: pointer">
          결과보기
        </label>
        <div id="resultLayer_bg">
          <div id="popup">
            <label for="resultPopup" style="float: right;"><i class="far fa-times-circle fa-2x" style="color: #000000; cursor: pointer"></i></label>
            <h2 style="text-align: center;">
              결과
            </h2>
            <hr>
            <div style="display: flex; flex-direction: row; justify-content: center;">
              <div style="display: flex; flex-direction: column; align-items: center;">
                <div style="width: 170px; height: 25px; background-color: green;"></div>
                <span>0~6점</span>
              </div>
              <div style="display: flex; flex-direction: column; align-items: center;">
                <div style="width: 170px; height: 25px; background-color: yellow;"></div>
                <span>17~42점</span>
              </div>
              <div style="display: flex; flex-direction: column; align-items: center;">
                <div style="width: 170px; height: 25px; background-color: red;"></div>
                <span>43점 이상</span>
              </div>
          </div>
            <p style="margin-top: 20px;">0~6점 : 현재 청력으로 인한 불편함이 현저히 낮으며, 청력 손실이 의심되지 않음.</p>
            <p style="margin-top: 20px;">7~42점 : 현재 청력으로 인한 불편함을 겪고 있으며, 청력 손실이 다소 의심됨. 임상의 방문을 권유함.</p>
            <p style="margin-top: 20px;">43점 이상 : 현재 청력으로 인해 일상생활이 어려우며, 청력 손실이 의심됨. 임상의 방문이 필요함.</p>
        </div>
      </div>

      <script>
        function calculateScore(){
          var totalScore = 0;
          var radios = document.querySelectorAll('input[type="radio"]:checked');
          var errorElements = document.querySelectorAll('.error');

          radios.forEach(function (radio) {
            totalScore += parseInt(radio.value);
          });

          var allRadios = document.querySelectorAll('input[type="radio"]');
          allRadios.forEach(function (radio) {
            var groupName = radio.getAttribute('name');
            var checkedRadios = document.querySelectorAll('input[name="' + groupName + '"]:checked');
            if (checkedRadios.length === 0) {
              var errorElement = document.getElementById('error-' + groupName);
              if (errorElement) {
                errorElement.style.display = 'inline';
              }
              totalScore = NaN;
            } else {
              var errorElement = document.getElementById('error-' + groupName);
              if (errorElement) {
                errorElement.style.display = 'none';
              }
            }
          });

          if (!isNaN(totalScore)) {
            document.getElementById('totalScore').innerText = "총 점수 : " + totalScore + "점";
          } else {
            document.getElementById('totalScore').innerText = "체크되지 않은 항목이 있습니다.";
          }
      }
      </script>
  </body>
</html>
